!function(){const e=document.querySelector("#expositor");if(e){let o=[],a=[];const s=document.querySelector("#listado-expositores"),n=document.querySelector('[name="expositor_id"]');function t(e){const t=e.target,o=document.querySelector(".listado-expositores__expositor--seleccionado");o&&o.classList.remove("listado-expositores__expositor--seleccionado"),t.classList.add("listado-expositores__expositor--seleccionado"),n.value=t.dataset.expositorId}!async function(){const e=await fetch("/api/expositores");!function(e=[]){o=e.map(e=>({nombre:`${e.nombre.trim()} ${e.apellido.trim()}`,id:e.id}))}(await e.json())}(),e.addEventListener("input",(function(e){const n=e.target.value;if(n.length>3){const e=new RegExp(n,"i");a=o.filter(t=>{if(-1!==t.nombre.toLowerCase().search(e))return t})}else a=[];!function(){for(;s.firstChild;)s.removeChild(s.firstChild);if(a.length>0)a.forEach(e=>{const o=document.createElement("LI");o.classList.add("listado-expositores__expositor"),o.textContent=e.nombre,o.dataset.expositorId=e.id,o.onclick=t,s.appendChild(o)});else{const e=document.createElement("P");e.classList.add("listado-expositores__no-resultados"),e.textContent="No hay resultados",s.appendChild(e)}}()})),n.value&&(async()=>{const e=await async function(e){const t="/api/expositor?id="+e,o=await fetch(t);return await o.json()}(n.value),t=document.createElement("LI");t.classList.add("listado-expositores__expositor","listado-expositores__expositor--seleccionado"),t.textContent=`${e.nombre} ${e.apellido}`,s.appendChild(t)})()}}(),function(){if(document.querySelector("#horas")){const a=document.querySelector('[name="categoria_id"]'),s=document.querySelectorAll('[name="dia"]'),n=document.querySelector('[name="dia_id"]'),i=document.querySelector('[name="hora_id"]');a.addEventListener("change",e),s.forEach(t=>t.addEventListener("change",e));let r={categoria_id:+a.value||"",dia:+n.value||""};if(!Object.values(r).includes("")){!async function(){await t();const e=i.value,a=document.querySelector(`[data-hora-id="${e}"]`);a.classList.remove("horas__hora--deshabilitado"),a.classList.add("horas__hora--seleccionada"),a.onclick=o}()}function e(e){r[e.target.name]=e.target.value,i.value="",n.value="";const o=document.querySelector(".horas__hora--seleccionada");o&&o.classList.remove("horas__hora--seleccionada"),Object.values(r).includes("")||t()}async function t(){const{dia:e,categoria_id:t}=r,a=`/api/eventos-horarios?dia_id=${e}&categoria_id=${t}`,s=await fetch(a);!function(e){const t=document.querySelectorAll("#horas li");t.forEach(e=>e.classList.add("horas__hora--deshabilitado"));const a=e.map(e=>e.hora_id),s=Array.from(t);s.filter(e=>!a.includes(e.dataset.horaId)).forEach(e=>e.classList.remove("horas__hora--deshabilitado"));document.querySelectorAll("#horas li:not(.horas__hora--deshabilitado)").forEach(e=>e.addEventListener("click",o))}(await s.json())}function o(e){const t=document.querySelector(".horas__hora--seleccionada");t&&t.classList.remove("horas__hora--seleccionada"),e.target.classList.add("horas__hora--seleccionada"),i.value=e.target.dataset.horaId,n.value=document.querySelector('[name="dia"]:checked').value}}}(),function(){const e=document.querySelector("#tags_input");if(e){const s=document.querySelector("#tags"),n=document.querySelector('[name="tags"]');let i=[];function t(){s.textContent="",i.forEach(e=>{const t=document.createElement("LI");t.classList.add("formulario__tag"),t.textContent=e,t.onclick=o,s.appendChild(t)}),a()}function o(e){e.target.remove(),i=i.filter(t=>t!==e.target.textContent),a()}function a(){n.value=i.toString()}""!==n.value&&(i=n.value.split(","),t()),e.addEventListener("keypress",(function(o){if(","===o.key){if(""===o.target.value.trim()||o.target.value.length<1)return;o.preventDefault(),i=[...i,o.target.value.trim()],e.value="",t()}}))}}();
//# sourceMappingURL=bundle.js.map
